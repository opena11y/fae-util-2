# fae-util-2
Utility used by FAE technologies to spider and analyze web pages using OpenAjax evaluation library loaded in Google Chromium browser.

## Overview 

* The utility is designed to support spidering a website or traversing a list of URLs and analyzing the content of each URL using JavaScript. 
* Utility accepts a configuration file identifying URLs for analysis and a list of JavaScript files to be used for analysis. 
* Using these inputs, it retrieves the DOM specified by the URL information, runs the code in the JavaScript files using the DOM as an input, and returns the output of the JavaScript. 
* The JavaScript files used for analysis must return text content (e.g. in some format like JSON or XML) for each URL and this content is saved to disk.
* The utility also provides additional information URL, such as the request and returned URL, and URLS that were filtered or could not be processed for some reason (i.e. broken link, invalid script)

## Installation

* This tool relies on Node.js for full functionality. Please ensure your installed version of Node matches the requirements specified [here](https://github.com/GoogleChrome/puppeteer/tree/v1.10.0#usage). The latest version of Node.js can be obtained from [here]( https://nodejs.org).
* Clone the repository.
* In the repository's directory, run ```npm install```. This will install the required Node.js packages for fae-util-2 to run.
* Create a new configuration file or use one provided in the folder *testFiles*. More information about configuration files can be found [here](https://github.com/opena11y/fae-util-2#configuration-file-format-and-options).
* To run the script, run the following command in Command Prompt(on Windows) or Terminal(on Linux/Mac OS):
```node fae-util-2.js -c <configuration_file_name>```

## Specifying Configuration File

* If -c is required and preceeds the name of the configuration file.

```
-c  <arg>     Required: filename containing configuration information
```

## Configuration File Format and Options 

```
add configuration information
```

## OAA Configuration Script File 

* This file is generated by fae-util for each request for analysis
* The configuration information is from 6 items in the above configuration file 
* File can be placed in the output directory and named "oaa_a11y_config.js"
* This file is executed after all other OpenAjax scripts have been loaded

```
var doc = window.document;

var ruleset = OpenAjax.a11y.all_rulesets.getRuleset("<ruleset>"); 
  
var evaluation = ruleset.evaluate(doc.location.href, doc.title, doc, null, true);

var out = evaluation.toJSON();

out;
```

## Oputput Files

* JSON file with evaluation 

## Testing fae-util-2
